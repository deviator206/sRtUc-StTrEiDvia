<!DOCTYPE html>
<!--[if IEMobile 7 ]>    <html class="no-js iem7"> <![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!-->
<html class="no-js">
	<!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<title></title>

	</head>
	<body>

		<script type='text/javascript'>
		/*	var viewporter;
			(function() {

				var _viewporter;

				// initialize viewporter object
				viewporter = {

					// options
					forceDetection : false,

					// constants
					ACTIVE : (function() {

						// iPad's don't allow you to scroll away the UI of the browser
						if ((/ipad/i).test(navigator.userAgent)) {
							return false;
						}

						// WebOS has no touch events, but definitely the need for viewport normalization
						if ((/webos/i).test(navigator.userAgent)) {
							return true;
						}

						// touch enabled devices
						if ('ontouchstart' in window) {
							return true;
						}

						return false;

					})(),

					READY : false,

					// methods
					isLandscape : function() {
						return window.orientation === 90 || window.orientation === -90;
					},

					ready : function(callback) {
						window.addEventListener('viewportready', callback, false);
					},

					change : function(callback) {
						window.addEventListener('viewportchange', callback, false);
					},

					refresh : function() {
						if (_viewporter) {
							_viewporter.prepareVisualViewport();
						}
					},

					preventPageScroll : function() {

						// prevent page scroll if `preventPageScroll` option was set to `true`
						document.body.addEventListener('touchmove', function(event) {
							event.preventDefault();
						}, false);

						// reset page scroll if `preventPageScroll` option was set to `true`
						// this is used after showing the address bar on iOS
						document.body.addEventListener("touchstart", function() {
							_viewporter.prepareVisualViewport();
						}, false);

					}
				};

				// if we are on Desktop, no need to go further
				if (!viewporter.ACTIVE) {
					return;
				}

				// create private constructor with prototype..just looks cooler
				var _Viewporter = function() {

					var that = this;

					// Scroll away the header, but not in Chrome
					this.IS_ANDROID = /Android/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);

					var _onReady = function() {

						// scroll the shit away and fix the viewport!
						that.prepareVisualViewport();

						// listen for orientation change
						var cachedOrientation = window.orientation;
						window.addEventListener('orientationchange', function() {
							if (window.orientation !== cachedOrientation) {
								that.prepareVisualViewport();
								cachedOrientation = window.orientation;
							}
						}, false);

					};

					// listen for document ready if not already loaded
					// then try to prepare the visual viewport and start firing custom events
					if (document.readyState === 'loading') {
						document.addEventListener('DOMContentLoaded', function() {
							_onReady();
						}, false);
					} else {
						_onReady();
					}

				};

				_Viewporter.prototype = {

					getProfile : function() {

						if (viewporter.forceDetection) {
							return null;
						}

						for (var searchTerm in viewporter.profiles) {
							if (new RegExp(searchTerm).test(navigator.userAgent)) {
								return viewporter.profiles[searchTerm];
							}
						}
						return null;
					},

					postProcess : function() {

						// let everyone know we're finally ready
						viewporter.READY = true;

						this.triggerWindowEvent(!this._firstUpdateExecuted ? 'viewportready' : 'viewportchange');
						this._firstUpdateExecuted = true;

					},

					prepareVisualViewport : function() {

						var that = this;

						// if we're running in webapp mode (iOS), there's nothing to scroll away
						if (navigator.standalone) {
							return this.postProcess();
						}

						// maximize the document element's height to be able to scroll away the url bar
						document.documentElement.style.minHeight = '5000px';

						var startHeight = window.innerHeight;
						var deviceProfile = this.getProfile();
						var orientation = viewporter.isLandscape() ? 'landscape' : 'portrait';

						// try scrolling immediately
						window.scrollTo(0, that.IS_ANDROID ? 1 : 0);
						// Android needs to scroll by at least 1px

						// start the checker loop
						var iterations = 40;
						var check = window.setInterval(function() {

							// retry scrolling
							window.scrollTo(0, that.IS_ANDROID ? 1 : 0);
							// Android needs to scroll by at least 1px

							function androidProfileCheck() {
								return deviceProfile ? window.innerHeight === deviceProfile[orientation] : false;
							}

							function iosInnerHeightCheck() {
								return window.innerHeight > startHeight;
							}

							iterations--;

							// check iterations first to make sure we never get stuck
							if ((that.IS_ANDROID ? androidProfileCheck() : iosInnerHeightCheck()) || iterations < 0) {

								// set minimum height of content to new window height
								document.documentElement.style.minHeight = window.innerHeight + 'px';

								// set the right height for the body wrapper to allow bottom positioned elements
								document.getElementById('viewporter').style.position = 'relative';
								//document.getElementById('viewporter').style.height = window.innerHeight + 'px';

								clearInterval(check);

								// fire events, get ready
								that.postProcess();

							}

						}, 10);

					},

					triggerWindowEvent : function(name) {
						var event = document.createEvent("Event");
						event.initEvent(name, false, false);
						window.dispatchEvent(event);
					}
				};

				// initialize
				_viewporter = new _Viewporter();

			})();

			viewporter.profiles = {

				// Motorola Xoom
				'MZ601' : {
					portrait : 696,
					landscape : 1176
				},

				// Samsung Galaxy S, S2 and Nexus S
				'GT-I9000|GT-I9100|Nexus S' : {
					portrait : 508,
					landscape : 295
				},

				// Samsung Galaxy Pad
				'GT-P1000' : {
					portrait : 657,
					landscape : 400
				},

				// HTC Desire & HTC Desire HD
				'Desire_A8181|DesireHD_A9191' : {
					portrait : 533,
					landscape : 320
				}

			};*/

			/* STARTING POINT*/
			var _gMainApplication
			var documentPath = "Documents/";
			var imagesPath = "PublishingImages/";
			var selfPath = "../";
			function getAssetPath(sType, str) {
				var sTemp = selfPath;
				//console.log(': sType:'+sType)
				switch(sType) {
					case "docs":
						sTemp += "" + documentPath
						break;
					case "img":
						//console.log( ' STR '+str);
						str = str.replace("img/", "");
						//console.log( ' STR.. '+str);
						sTemp += "" + imagesPath
						break;
				}
				sTemp += "" + str;
				return sTemp;
			}

			//var arrScriptTags = new Array('css/style_flashcard_stc.css','js/lib/jquery-1.7.2.min.js','js/lib/jquery-ui-custom-min.js','js/lib/jquery-ui-touch-punch-min.js','js/lib/allinone_carousel.js','js/lib/PxLoader.js','js/lib/PxLoaderImage.js','js/model.js','js/screens/passwordScreen.js','js/screens/loadingScreen.js','js/screens/splashScreen.js','js/screens/menuScreen.js','js/screens/howtoplayScreen.js','js/screens/carouselScreen.js','js/screens/gameplayScreen.js','js/screens/correctanswerScreen.js','js/screens/wronganswerScreen.js','js/screens/winnerScreen.js','js/application.js');
			var arrScriptTags = new Array('css/style_flashcard_stc.css', 'js/lib/jquery-1.7.2.min.js', 'js/app-flashcard.js');

			var arrScriptIndex = 0;
			var arrDivNames = new Array('loading_script_tags', 'passwordScreen', 'loadingScreen', 'splashScreen', 'menuScreen', 'howtoplayScreen', 'carouselScreen', 'grey_bottom', 'gameplayScreen', 'correctanswerScreen', 'wronganswerScreen', 'winnerScreen')
			function makeAllInvisible() {
				for (var i = 0; i < arrDivNames.length; i++)
					document.getElementById(arrDivNames[i]).style.display = 'none'
			}

			function startLoadingAssets() {
				if (arrScriptIndex == 0) {
					//makeAllInvisible();
					document.getElementById('main_game_screen').style.display = "none"
					document.getElementById('loading_script_tags').style.display = "block"
				}

				if (arrScriptIndex < arrScriptTags.length) {
					if (arrScriptIndex < 1) {
						AddCSS(getAssetPath("docs", arrScriptTags[arrScriptIndex]));
						arrScriptIndex++;
						startLoadingAssets();
					} else {
						AddScript(getAssetPath("docs", arrScriptTags[arrScriptIndex]), startLoadingAssets);
						arrScriptIndex++;
					}

				} else {
					document.getElementById('main_game_screen').style.display = "block"
					document.getElementById('loading_script_tags').style.display = "none"
					_gMainApplication = new ApplicationWrapper();
					_gMainApplication.setUp({
						screenNames : arrDivNames
					})
					_gMainApplication.nextTransition();

				}
			}

			function AddCSS(url, callback) {
				var script = null;
				script = document.createElement('link');
				script.href = url;
				script.rel = "stylesheet";
				script.type = 'text/css';
				script.defer = false;

				if ( typeof callback != "undefined" && callback != null) {

					// IE only, connect to event, which fires when JavaScript is loaded
					script.onreadystatechange = function() {
						if (this.readyState == 'complete' || this.readyState == 'loaded') {
							this.onreadystatechange = this.onload = null;
							// prevent duplicate calls
							callback();
						}
					}
					// FireFox and others, connect to event, which fires when JavaScript is loaded
					script.onload = function() {
						this.onreadystatechange = this.onload = null;
						// prevent duplicate calls

						callback();
					};
				}

				var head = document.getElementsByTagName('head').item(0);
				head.appendChild(script);
			}

			function AddScript(url, callback) {
				var script = null;
				script = document.createElement('script');
				script.src = url;
				script.type = 'text/javascript';
				script.defer = false;

				if ( typeof callback != "undefined" && callback != null) {

					// IE only, connect to event, which fires when JavaScript is loaded
					script.onreadystatechange = function() {
						if (this.readyState == 'complete' || this.readyState == 'loaded') {
							this.onreadystatechange = this.onload = null;
							// prevent duplicate calls
							callback();
						}
					}
					// FireFox and others, connect to event, which fires when JavaScript is loaded
					script.onload = function() {
						this.onreadystatechange = this.onload = null;
						// prevent duplicate calls

						callback();
					};
				}

				var head = document.getElementsByTagName('head').item(0);
				head.appendChild(script);
			}


			window.addEventListener ? window.addEventListener("load", startLoadingAssets, false) : window.attachEvent && window.attachEvent("onload", startLoadingAssets);

		</script>
		<div id='viewporter' >
			<div class="outerDiv">
				<div id="loading_script_tags" style="width:905px;
				height:600px;
				margin:0 auto;
				color:white;
				background-color:black;">
					<span style="margin-left: 325px;
					margin-top: 240px;
					position: absolute;
					font-size: 50px;">Initializing...</span>
				</div>
				<div id='main_game_screen' class="mainDiv" style="display:none;">
					<div id='passwordScreen'>

					</div>
					<div id='loadingScreen' align='center' >

					</div>
					<div id="splashScreen" class="screen">
						<div id="25yrslogo" class="headerlogo"></div>
						<div class="screen1Txt">
							To celebrate Accenture's 25 years in India, we've created Secrets of
							<br/>
							Success to demonstrate the successes our clients have achieved here
							<br />
							and abroad during that time. It's simple to play, but a challenge to win.
							<br />
							Just pich a card. You will be presented with a question and four possible
							<br />
							answers. You'll receive 10 points for each correct answer.
						</div>
						<div class="eneterGameButton button" id="enterGame">
							Enter the game
						</div>
					</div>

					<!--  MENU SCREEN -->
					<div id="menuScreen" class="screen">
						<div id="screen_2_logo" class="screen2Logo"></div>
						<div class="buttonsDiv">
							<div id='how_to_play' class="howToPlayButton button">
								How to play
							</div>
							<div id='play_the_game' class="playGameButton button">
								Play the game
							</div>
						</div>
						<div id='carousel_2_img' class="caraousalCardImg"></div>
					</div>

					<!-- HOW TO PLAY -->
					<div id="howtoplayScreen" class="screen">
						<div class="howToPlayDiv">
							<b>How to play</b>
							<br />
							<br />
							<ol style="margin-left: -18px;">
								<li>
									Anser few questions and make your way through the game
								</li>
								<li>
									Choose the right answer from the givenset of options
								</li>
								<li>
									The clock keeps ticking away as you answer
								</li>
								<li>
									Every correct answer gets you points
								</li>
								<li>
									There is no negative marking for the wrong answer
								</li>
								<li>
									Maximum correct answers will get you maximum points
								</li>
							</ol>
							<br />
							<p>
								So are you ready to get the story started?
							</p>
						</div>
						<div class="buttonsDivPage3">
							<div id="instruction_back" class="backButton button">
								Back
							</div>
							<div id="instruction_play" class="playButton button" style="margin-left:15px;">
								Play now
							</div>
						</div>
						<div id="carousel_3_img" class="caraousalCardImgPage3"></div>
					</div>

					<!-- CAROUSEL SCREEN -->
					<div id="carouselScreen" class="screen">
						<div class="caraousalDiv_2">
							<div id="containingDiv">
								<div id="allinone_carousel_charming"></div>
							</div>

						</div>
					</div>

					<!-- QUESTION -->
					<div id="gameplayScreen" class="screen"></div>
					<div id="correctanswerScreen" class="screen">

					</div>
					<div id="wronganswerScreen" class="screen">

					</div>
					<div id="winnerScreen" class="screen">

					</div>
					<div id="grey_bottom" class="greyBottom">
						<div class="timeLeftDiv">
							<span class="footerTxt">Time left:</span><span id="timer_txt" class="footerNum">00</span>
						</div>
						<div class="pointsDiv">
							<span class="footerTxt">Points:</span><span  id="score_txt" class="footerNum">000</span>
						</div>
						<div class="backButtonDiv">
							<div id='carousel_back'class="backButtonFooter button">
								Back
							</div>
						</div>
					</div>

				</div>
			</div>

		</div>
	</body>
</html>
